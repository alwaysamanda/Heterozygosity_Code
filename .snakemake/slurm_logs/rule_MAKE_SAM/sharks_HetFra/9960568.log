host: cpu-p-252
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided remote nodes: 1
Provided resources: mem_mb=10000, mem_mib=9537, disk_mb=5880, disk_mib=5608
Select jobs to execute...
Execute 1 jobs...

[Mon May 26 10:25:54 2025]
rule MAKE_SAM:
    input: /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz, /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz
    output: sharks/HetFra/HetFra.sam
    jobid: 0
    reason: Forced execution
    wildcards: CLADE=sharks, SPEC_NAME=HetFra
    resources: mem_mb=10000, mem_mib=9537, disk_mb=5880, disk_mib=5608, tmpdir=<TBD>, slurm_account=DURBIN-SL2-CPU, slurm_partition=cclake-himem, runtime=720

host: cpu-p-252
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=10000, mem_mib=9537, disk_mb=5880, disk_mib=5608
Select jobs to execute...
Execute 1 jobs...

[Mon May 26 10:25:56 2025]
localrule MAKE_SAM:
    input: /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz, /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz
    output: sharks/HetFra/HetFra.sam
    jobid: 0
    reason: Forced execution
    wildcards: CLADE=sharks, SPEC_NAME=HetFra
    resources: mem_mb=10000, mem_mib=9537, disk_mb=5880, disk_mib=5608, tmpdir=/tmp, slurm_account=DURBIN-SL2-CPU, slurm_partition=cclake-himem, runtime=720

/usr/bin/bash: line 7: 2266681 Killed                  minimap2 -L -t 16 -ax asm5 /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz > sharks/HetFra/HetFra.sam
RuleException:
CalledProcessError in file /rds/project/rds-p67MZilb2eQ/projects/VGP/heterozygosity/Snakefile, line 565:
Command 'set -euo pipefail;  
        mkdir -p sharks/HetFra/MSMC
        mkdir -p sharks/HetFra/MSMC/Output_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_indel_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_bam_caller_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_multihet_filtered_95
        mkdir -p sharks/HetFra/MSMC/Output_Multihet_Bootstrapped/0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29
        minimap2 -L -t 16 -ax asm5 /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz > sharks/HetFra/HetFra.sam' returned non-zero exit status 137.
[Mon May 26 10:27:37 2025]
Error in rule MAKE_SAM:
    jobid: 0
    input: /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz, /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz
    output: sharks/HetFra/HetFra.sam
    shell:
        
        mkdir -p sharks/HetFra/MSMC
        mkdir -p sharks/HetFra/MSMC/Output_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_indel_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_bam_caller_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_multihet_filtered_95
        mkdir -p sharks/HetFra/MSMC/Output_Multihet_Bootstrapped/0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29
        minimap2 -L -t 16 -ax asm5 /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz > sharks/HetFra/HetFra.sam
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job MAKE_SAM since they might be corrupted:
sharks/HetFra/HetFra.sam
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
slurmstepd: error: Detected 1 oom_kill event in StepId=9960568.0. Some of the step tasks have been OOM Killed.
srun: error: cpu-p-252: task 0: Out Of Memory
[Mon May 26 10:27:38 2025]
Error in rule MAKE_SAM:
    jobid: 0
    input: /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz, /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz
    output: sharks/HetFra/HetFra.sam
    shell:
        
        mkdir -p sharks/HetFra/MSMC
        mkdir -p sharks/HetFra/MSMC/Output_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_indel_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_bam_caller_BED_file
        mkdir -p sharks/HetFra/MSMC/Output_multihet_filtered_95
        mkdir -p sharks/HetFra/MSMC/Output_Multihet_Bootstrapped/0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29
        minimap2 -L -t 16 -ax asm5 /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/reference/sharks/GCA_036365495.1.fa.gz /rds/project/rds-p67MZilb2eQ/projects/VGP/250430.VGP-Phase1/alignment/alternate/sharks/GCA_036365525.1.fa.gz > sharks/HetFra/HetFra.sam
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
